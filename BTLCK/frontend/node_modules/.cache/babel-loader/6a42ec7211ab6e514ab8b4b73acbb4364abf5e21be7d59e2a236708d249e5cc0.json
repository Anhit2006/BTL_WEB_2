{"ast":null,"code":"var _jsxFileName = \"D:\\\\BTL_WEB_1\\\\BTLCK\\\\BTLCK\\\\frontend\\\\src\\\\pages\\\\Orders.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { orderAPI, customerAPI, productAPI } from '../services/api';\nimport './Orders.css';\n\n// hi·ªÉn th·ªã  khi loading\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoadingSpinner = () => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"spinner-container\",\n  style: {\n    textAlign: 'center',\n    padding: '50px'\n  },\n  children: /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"spinner\",\n    children: \"\\u0110ang t\\u1EA3i...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 7,\n  columnNumber: 5\n}, this);\n_c = LoadingSpinner;\nconst Orders = () => {\n  _s();\n  var _orderDetails$items;\n  const [orders, setOrders] = useState([]);\n  const [customers, setCustomers] = useState([]);\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [search, setSearch] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [orderDetails, setOrderDetails] = useState(null);\n  const [formData, setFormData] = useState({\n    ma_kh: '',\n    items: [{\n      ma_sp: '',\n      so_luong: 1\n    }],\n    trang_thai: 'Ch·ªù x·ª≠ l√Ω'\n  });\n  const [alert, setAlert] = useState({\n    type: '',\n    message: ''\n  });\n\n  // -------------------- Load Data --------------------\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]); // T·∫£i l·∫°i khi search thay ƒë·ªïi\n\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      await Promise.all([loadOrders(), loadCustomers(), loadProducts()]);\n    } catch (error) {\n      console.error('L·ªói khi t·∫£i d·ªØ li·ªáu ban ƒë·∫ßu:', error);\n      showAlert('error', 'L·ªói khi t·∫£i d·ªØ li·ªáu ban ƒë·∫ßu.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadOrders = async () => {\n    try {\n      const response = await orderAPI.getAll(search);\n      if (response.data.success) {\n        setOrders(response.data.data);\n      }\n    } catch (error) {\n      showAlert('error', 'L·ªói khi t·∫£i danh s√°ch ƒë∆°n h√†ng');\n    }\n  };\n  const loadCustomers = async () => {\n    try {\n      const response = await customerAPI.getAll();\n      if (response.data.success) {\n        setCustomers(response.data.data);\n      }\n    } catch (error) {\n      console.error('Error loading customers:', error);\n    }\n  };\n  const loadProducts = async () => {\n    try {\n      // L·ªçc s·∫£n ph·∫©m ƒëang ho·∫°t ƒë·ªông/c√≥ s·∫µn\n      const response = await productAPI.getAll('', false);\n      if (response.data.success) {\n        setProducts(response.data.data.filter(p => p.trang_thai === 1));\n      }\n    } catch (error) {\n      console.error('Error loading products:', error);\n    }\n  };\n  const showAlert = (type, message) => {\n    setAlert({\n      type,\n      message\n    });\n    setTimeout(() => setAlert({\n      type: '',\n      message: ''\n    }), 3000);\n  };\n\n  // -------------------- Modal & Form Logic --------------------\n\n  const handleOpenModal = () => {\n    // Reset form data khi m·ªü modal t·∫°o m·ªõi\n    setFormData({\n      ma_kh: '',\n      items: [{\n        ma_sp: '',\n        so_luong: 1\n      }],\n      trang_thai: 'Ch·ªù x·ª≠ l√Ω'\n    });\n    setOrderDetails(null); // ƒê·∫£m b·∫£o kh√¥ng hi·ªÉn th·ªã chi ti·∫øt ƒë∆°n h√†ng c≈©\n    setShowModal(true);\n  };\n  const handleCloseModal = () => {\n    setShowModal(false);\n    setOrderDetails(null);\n    setFormData({\n      ma_kh: '',\n      items: [{\n        ma_sp: '',\n        so_luong: 1\n      }],\n      trang_thai: 'Ch·ªù x·ª≠ l√Ω'\n    });\n  };\n  const handleViewDetails = async order => {\n    try {\n      const response = await orderAPI.getById(order.ma_dh);\n      if (response.data.success) {\n        setOrderDetails(response.data.data);\n        setShowModal(true);\n      }\n    } catch (error) {\n      showAlert('error', 'L·ªói khi t·∫£i chi ti·∫øt ƒë∆°n h√†ng');\n    }\n  };\n\n  // -------------------- Product Item Logic --------------------\n\n  const addProductItem = () => {\n    setFormData({\n      ...formData,\n      items: [...formData.items, {\n        ma_sp: '',\n        so_luong: 1\n      }]\n    });\n  };\n  const removeProductItem = index => {\n    const newItems = formData.items.filter((_, i) => i !== index);\n    setFormData({\n      ...formData,\n      items: newItems\n    });\n  };\n  const updateProductItem = (index, field, value) => {\n    const newItems = [...formData.items];\n\n    // Chuy·ªÉn ƒë·ªïi s·ªë l∆∞·ª£ng sang int, ƒë·∫£m b·∫£o min=1\n    if (field === 'so_luong') {\n      const numValue = parseInt(value);\n      newItems[index][field] = numValue < 1 ? 1 : numValue;\n    } else {\n      newItems[index][field] = value;\n    }\n    setFormData({\n      ...formData,\n      items: newItems\n    });\n  };\n\n  // -------------------- Submit & Delete --------------------\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n\n    // Validate\n    if (!formData.ma_kh) {\n      showAlert('error', 'Vui l√≤ng ch·ªçn kh√°ch h√†ng.');\n      return;\n    }\n    const validItems = formData.items.filter(item => item.ma_sp && item.so_luong > 0);\n    if (validItems.length === 0) {\n      showAlert('error', 'Vui l√≤ng th√™m √≠t nh·∫•t m·ªôt s·∫£n ph·∫©m h·ª£p l·ªá.');\n      return;\n    }\n    try {\n      // Chu·∫©n b·ªã data, ch·ªâ g·ª≠i items h·ª£p l·ªá\n      const dataToSubmit = {\n        ...formData,\n        items: validItems\n      };\n      await orderAPI.create(dataToSubmit);\n      showAlert('success', 'T·∫°o ƒë∆°n h√†ng th√†nh c√¥ng!');\n      handleCloseModal();\n      loadOrders();\n    } catch (error) {\n      var _error$response, _error$response$data;\n      showAlert('error', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.error) || 'C√≥ l·ªói x·∫£y ra. Vui l√≤ng ki·ªÉm tra t·ªìn kho.');\n    }\n  };\n  const handleDelete = async order => {\n    if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ƒë∆°n h√†ng ${order.ma_dh}? Thao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c.`)) {\n      try {\n        await orderAPI.delete(order.ma_dh);\n        showAlert('success', 'X√≥a ƒë∆°n h√†ng th√†nh c√¥ng');\n        loadOrders();\n      } catch (error) {\n        showAlert('error', 'L·ªói khi x√≥a ƒë∆°n h√†ng.');\n      }\n    }\n  };\n\n  // -------------------- Utility Functions --------------------\n\n  const getCustomerName = ma_kh => {\n    const customer = customers.find(c => c.ma_kh === ma_kh);\n    return customer ? customer.ho_ten : `(M√£ KH: ${ma_kh})`;\n  };\n\n  // H√†m hi·ªÉn th·ªã Badge tr·∫°ng th√°i\n  const getStatusBadge = trang_thai => {\n    trang_thai = trang_thai || 'Ch·ªù x·ª≠ l√Ω';\n    switch (trang_thai) {\n      case 'Ho√†n th√†nh':\n      case 'ƒê√£ giao':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-success\",\n          children: trang_thai\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 24\n        }, this);\n      case 'ƒêang x·ª≠ l√Ω':\n      case 'Ch·ªù x·ª≠ l√Ω':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-warning\",\n          children: trang_thai\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 24\n        }, this);\n      case 'ƒê√£ h·ªßy':\n      case 'Th·∫•t b·∫°i':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-danger\",\n          children: trang_thai\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-info\",\n          children: trang_thai\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 24\n        }, this);\n    }\n  };\n\n  // T√≠nh to√°n t·ªïng ti·ªÅn t·∫°m th·ªùi cho form t·∫°o ƒë∆°n h√†ng (s·ª≠ d·ª•ng useMemo ƒë·ªÉ t·ªëi ∆∞u)\n  const totalAmount = useMemo(() => {\n    return formData.items.reduce((total, item) => {\n      const product = products.find(p => p.ma_sp === item.ma_sp);\n      const price = product ? product.gia_ban : 0;\n      return total + price * item.so_luong;\n    }, 0);\n  }, [formData.items, products]);\n\n  // -------------------- Render --------------------\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"orders-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\uD83D\\uDED2 Qu\\u1EA3n L\\xFD \\u0110\\u01A1n H\\xE0ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleOpenModal,\n          children: \"+ T\\u1EA1o \\u0110\\u01A1n H\\xE0ng M\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this), alert.message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `alert alert-${alert.type}`,\n        children: alert.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-bar order-search-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"T\\xECm ki\\u1EBFm theo m\\xE3, kh\\xE1ch h\\xE0ng...\",\n          value: search,\n          onChange: e => setSearch(e.target.value),\n          className: \"form-control search-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"M\\xE3 \\u0110H\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 257,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Kh\\xE1ch H\\xE0ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Th\\u1EDDi Gian\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"S\\u1ED1 L\\u01B0\\u1EE3ng SP\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"T\\u1ED5ng Ti\\u1EC1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tr\\u1EA1ng Th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Thao T\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: orders.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"7\",\n                style: {\n                  textAlign: 'center',\n                  padding: '2rem'\n                },\n                children: \"Kh\\xF4ng c\\xF3 \\u0111\\u01A1n h\\xE0ng n\\xE0o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 33\n            }, this) : orders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.ma_dh\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.ten_khach_hang || getCustomerName(order.ma_kh)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(order.ngay_mua).toLocaleString('vi-VN')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.tong_so_luong || order.item_count || 0\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [parseInt(order.tong_tien || 0).toLocaleString('vi-VN'), \" \\u0111\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 280,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getStatusBadge(order.trang_thai)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-secondary btn-sm\",\n                    onClick: () => handleViewDetails(order),\n                    children: \"Chi Ti\\u1EBFt\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 286,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger btn-sm\",\n                    onClick: () => handleDelete(order),\n                    style: {\n                      marginLeft: '0.5rem'\n                    },\n                    children: \"X\\xF3a\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 284,\n                columnNumber: 41\n              }, this)]\n            }, order.ma_dh, true, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 13\n    }, this), showModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      onClick: handleCloseModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `modal ${orderDetails ? 'modal-details' : 'modal-form'}`,\n        onClick: e => e.stopPropagation(),\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: orderDetails ? `Chi Ti·∫øt ƒê∆°n H√†ng #${orderDetails.ma_dh}` : 'T·∫°o ƒê∆°n H√†ng M·ªõi'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-btn\",\n            onClick: handleCloseModal,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 25\n        }, this), orderDetails ?\n        /*#__PURE__*/\n        // Render Chi Ti·∫øt ƒê∆°n H√†ng\n        _jsxDEV(\"div\", {\n          className: \"order-details\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Kh\\xE1ch H\\xE0ng:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 59\n            }, this), \" \", getCustomerName(orderDetails.ma_kh)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Th\\u1EDDi Gian:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 323,\n              columnNumber: 59\n            }, this), \" \", new Date(orderDetails.ngay_mua).toLocaleString('vi-VN')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"detail-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Tr\\u1EA1ng Th\\xE1i:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 324,\n              columnNumber: 59\n            }, this), \" \", getStatusBadge(orderDetails.trang_thai)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"detail-section table-container\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              style: {\n                marginBottom: '1rem',\n                marginTop: '1rem',\n                color: '#457b9d'\n              },\n              children: \"Danh S\\xE1ch S\\u1EA3n Ph\\u1EA9m\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"S\\u1EA3n Ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 331,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    style: {\n                      width: '100px'\n                    },\n                    children: \"S\\u1ED1 L\\u01B0\\u1EE3ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0110\\u01A1n Gi\\xE1\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"Th\\xE0nh Ti\\u1EC1n\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: (_orderDetails$items = orderDetails.items) === null || _orderDetails$items === void 0 ? void 0 : _orderDetails$items.map((item, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: item.ten_sp || item.ma_sp\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      textAlign: 'center'\n                    },\n                    children: item.so_luong\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 341,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [parseInt(item.don_gia).toLocaleString('vi-VN'), \" \\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 342,\n                    columnNumber: 53\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [parseInt(item.thanh_tien).toLocaleString('vi-VN'), \" \\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 343,\n                    columnNumber: 53\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 49\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 337,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"tfoot\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    colSpan: \"3\",\n                    style: {\n                      textAlign: 'right',\n                      fontWeight: 'bold'\n                    },\n                    children: \"T\\u1ED5ng Ti\\u1EC1n:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 349,\n                    columnNumber: 49\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    style: {\n                      fontWeight: 'bold',\n                      fontSize: '1.1rem'\n                    },\n                    children: [parseInt(orderDetails.tong_tien).toLocaleString('vi-VN'), \" \\u0111\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 350,\n                    columnNumber: 49\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: handleCloseModal,\n              children: \"\\u0110\\xF3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 29\n        }, this) :\n        /*#__PURE__*/\n        // Render Form T·∫°o M·ªõi\n        _jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Kh\\xE1ch H\\xE0ng *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              required: true,\n              value: formData.ma_kh,\n              onChange: e => setFormData({\n                ...formData,\n                ma_kh: e.target.value\n              }),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"-- Ch\\u1ECDn kh\\xE1ch h\\xE0ng --\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 373,\n                columnNumber: 41\n              }, this), customers.map(customer => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: customer.ma_kh,\n                children: customer.ho_ten\n              }, customer.ma_kh, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 45\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group product-list-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"S\\u1EA3n Ph\\u1EA9m *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 37\n            }, this), formData.items.map((item, index) => {\n              const selectedProduct = products.find(p => p.ma_sp === item.ma_sp);\n              const currentPrice = selectedProduct ? parseInt(selectedProduct.gia_ban) : 0;\n              const availableStock = (selectedProduct === null || selectedProduct === void 0 ? void 0 : selectedProduct.so_luong_ton) || 0;\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"product-item-row\",\n                children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                  required: true,\n                  value: item.ma_sp,\n                  onChange: e => updateProductItem(index, 'ma_sp', e.target.value),\n                  style: {\n                    flex: 3\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"Ch\\u1ECDn s\\u1EA3n ph\\u1EA9m\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 397,\n                    columnNumber: 53\n                  }, this), products.map(product => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: product.ma_sp,\n                    disabled: product.so_luong_ton <= 0,\n                    children: [product.ten_sp, \" (T\\u1ED3n: \", product.so_luong_ton, \" - Gi\\xE1: \", parseInt(product.gia_ban).toLocaleString('vi-VN'), \" \\u0111)\"]\n                  }, product.ma_sp, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 399,\n                    columnNumber: 57\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 391,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"number\",\n                  required: true,\n                  min: \"1\",\n                  max: availableStock,\n                  value: item.so_luong,\n                  onChange: e => updateProductItem(index, 'so_luong', e.target.value),\n                  placeholder: \"SL\",\n                  style: {\n                    flex: 1.5\n                  },\n                  disabled: !item.ma_sp\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 404,\n                  columnNumber: 49\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"item-sub-info\",\n                  style: {\n                    flex: 2\n                  },\n                  children: item.ma_sp ? `${(currentPrice * item.so_luong).toLocaleString('vi-VN')} ƒë` : 'Ch·ªçn SP'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 49\n                }, this), formData.items.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-danger btn-sm\",\n                  onClick: () => removeProductItem(index),\n                  style: {\n                    flex: 1,\n                    minWidth: 'unset'\n                  },\n                  children: \"X\\xF3a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 53\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 390,\n                columnNumber: 45\n              }, this);\n            }), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-product-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"btn btn-secondary\",\n                onClick: addProductItem,\n                children: \"+ Th\\xEAm S\\u1EA3n Ph\\u1EA9m\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 432,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"total-amount-display\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"T\\u1ED5ng ti\\u1EC1n t\\u1EA1m t\\xEDnh:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    color: '#e74c3c',\n                    marginLeft: '10px'\n                  },\n                  children: [totalAmount.toLocaleString('vi-VN'), \" \\u0111\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 431,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn btn-secondary\",\n              onClick: handleCloseModal,\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 447,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-primary-modal\",\n              children: \"T\\u1EA1o \\u0110\\u01A1n H\\xE0ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 450,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 446,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 29\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 313,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 228,\n    columnNumber: 9\n  }, this);\n};\n_s(Orders, \"1EgjXHaz5/Lbk529TGrCECA7xN0=\");\n_c2 = Orders;\nexport default Orders;\nvar _c, _c2;\n$RefreshReg$(_c, \"LoadingSpinner\");\n$RefreshReg$(_c2, \"Orders\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","orderAPI","customerAPI","productAPI","jsxDEV","_jsxDEV","LoadingSpinner","className","style","textAlign","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","Orders","_s","_orderDetails$items","orders","setOrders","customers","setCustomers","products","setProducts","loading","setLoading","search","setSearch","showModal","setShowModal","orderDetails","setOrderDetails","formData","setFormData","ma_kh","items","ma_sp","so_luong","trang_thai","alert","setAlert","type","message","loadData","Promise","all","loadOrders","loadCustomers","loadProducts","error","console","showAlert","response","getAll","data","success","filter","p","setTimeout","handleOpenModal","handleCloseModal","handleViewDetails","order","getById","ma_dh","addProductItem","removeProductItem","index","newItems","_","i","updateProductItem","field","value","numValue","parseInt","handleSubmit","e","preventDefault","validItems","item","length","dataToSubmit","create","_error$response","_error$response$data","handleDelete","window","confirm","delete","getCustomerName","customer","find","c","ho_ten","getStatusBadge","totalAmount","reduce","total","product","price","gia_ban","onClick","placeholder","onChange","target","colSpan","map","ten_khach_hang","Date","ngay_mua","toLocaleString","tong_so_luong","item_count","tong_tien","marginLeft","stopPropagation","marginBottom","marginTop","color","width","ten_sp","don_gia","thanh_tien","fontWeight","fontSize","onSubmit","required","selectedProduct","currentPrice","availableStock","so_luong_ton","flex","disabled","min","max","minWidth","_c2","$RefreshReg$"],"sources":["D:/BTL_WEB_1/BTLCK/BTLCK/frontend/src/pages/Orders.js"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\r\nimport { orderAPI, customerAPI, productAPI } from '../services/api';\r\nimport './Orders.css';\r\n\r\n// hi·ªÉn th·ªã  khi loading\r\nconst LoadingSpinner = () => (\r\n    <div className=\"spinner-container\" style={{ textAlign: 'center', padding: '50px' }}>\r\n        <div className=\"spinner\">ƒêang t·∫£i...</div>\r\n    </div>\r\n);\r\n\r\nconst Orders = () => {\r\n    const [orders, setOrders] = useState([]);\r\n    const [customers, setCustomers] = useState([]);\r\n    const [products, setProducts] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [search, setSearch] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [orderDetails, setOrderDetails] = useState(null);\r\n    const [formData, setFormData] = useState({\r\n        ma_kh: '',\r\n        items: [{ ma_sp: '', so_luong: 1 }],\r\n        trang_thai: 'Ch·ªù x·ª≠ l√Ω', \r\n    });\r\n    const [alert, setAlert] = useState({ type: '', message: '' });\r\n\r\n    // -------------------- Load Data --------------------\r\n    useEffect(() => {\r\n        loadData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [search]); // T·∫£i l·∫°i khi search thay ƒë·ªïi\r\n\r\n    const loadData = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await Promise.all([loadOrders(), loadCustomers(), loadProducts()]);\r\n        } catch (error) {\r\n            console.error('L·ªói khi t·∫£i d·ªØ li·ªáu ban ƒë·∫ßu:', error);\r\n            showAlert('error', 'L·ªói khi t·∫£i d·ªØ li·ªáu ban ƒë·∫ßu.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const loadOrders = async () => {\r\n        try {\r\n            const response = await orderAPI.getAll(search);\r\n            if (response.data.success) {\r\n                setOrders(response.data.data);\r\n            }\r\n        } catch (error) {\r\n            showAlert('error', 'L·ªói khi t·∫£i danh s√°ch ƒë∆°n h√†ng');\r\n        }\r\n    };\r\n\r\n    const loadCustomers = async () => {\r\n        try {\r\n            const response = await customerAPI.getAll();\r\n            if (response.data.success) {\r\n                setCustomers(response.data.data);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading customers:', error);\r\n        }\r\n    };\r\n\r\n    const loadProducts = async () => {\r\n        try {\r\n            // L·ªçc s·∫£n ph·∫©m ƒëang ho·∫°t ƒë·ªông/c√≥ s·∫µn\r\n            const response = await productAPI.getAll('', false); \r\n            if (response.data.success) {\r\n                setProducts(response.data.data.filter(p => p.trang_thai === 1));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error loading products:', error);\r\n        }\r\n    };\r\n\r\n    const showAlert = (type, message) => {\r\n        setAlert({ type, message });\r\n        setTimeout(() => setAlert({ type: '', message: '' }), 3000);\r\n    };\r\n\r\n    // -------------------- Modal & Form Logic --------------------\r\n\r\n    const handleOpenModal = () => {\r\n        // Reset form data khi m·ªü modal t·∫°o m·ªõi\r\n        setFormData({\r\n            ma_kh: '',\r\n            items: [{ ma_sp: '', so_luong: 1 }],\r\n            trang_thai: 'Ch·ªù x·ª≠ l√Ω',\r\n        });\r\n        setOrderDetails(null); // ƒê·∫£m b·∫£o kh√¥ng hi·ªÉn th·ªã chi ti·∫øt ƒë∆°n h√†ng c≈©\r\n        setShowModal(true);\r\n    };\r\n\r\n    const handleCloseModal = () => {\r\n        setShowModal(false);\r\n        setOrderDetails(null);\r\n        setFormData({ ma_kh: '', items: [{ ma_sp: '', so_luong: 1 }], trang_thai: 'Ch·ªù x·ª≠ l√Ω' });\r\n    };\r\n\r\n    const handleViewDetails = async (order) => {\r\n        try {\r\n            const response = await orderAPI.getById(order.ma_dh);\r\n            if (response.data.success) {\r\n                setOrderDetails(response.data.data);\r\n                setShowModal(true);\r\n            }\r\n        } catch (error) {\r\n            showAlert('error', 'L·ªói khi t·∫£i chi ti·∫øt ƒë∆°n h√†ng');\r\n        }\r\n    };\r\n\r\n    // -------------------- Product Item Logic --------------------\r\n\r\n    const addProductItem = () => {\r\n        setFormData({\r\n            ...formData,\r\n            items: [...formData.items, { ma_sp: '', so_luong: 1 }],\r\n        });\r\n    };\r\n\r\n    const removeProductItem = (index) => {\r\n        const newItems = formData.items.filter((_, i) => i !== index);\r\n        setFormData({ ...formData, items: newItems });\r\n    };\r\n\r\n    const updateProductItem = (index, field, value) => {\r\n        const newItems = [...formData.items];\r\n        \r\n        // Chuy·ªÉn ƒë·ªïi s·ªë l∆∞·ª£ng sang int, ƒë·∫£m b·∫£o min=1\r\n        if (field === 'so_luong') {\r\n            const numValue = parseInt(value);\r\n            newItems[index][field] = numValue < 1 ? 1 : numValue;\r\n        } else {\r\n            newItems[index][field] = value;\r\n        }\r\n\r\n        setFormData({ ...formData, items: newItems });\r\n    };\r\n\r\n    // -------------------- Submit & Delete --------------------\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        // Validate\r\n        if (!formData.ma_kh) {\r\n            showAlert('error', 'Vui l√≤ng ch·ªçn kh√°ch h√†ng.');\r\n            return;\r\n        }\r\n\r\n        const validItems = formData.items.filter(item => item.ma_sp && item.so_luong > 0);\r\n        if (validItems.length === 0) {\r\n            showAlert('error', 'Vui l√≤ng th√™m √≠t nh·∫•t m·ªôt s·∫£n ph·∫©m h·ª£p l·ªá.');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Chu·∫©n b·ªã data, ch·ªâ g·ª≠i items h·ª£p l·ªá\r\n            const dataToSubmit = {\r\n                ...formData,\r\n                items: validItems,\r\n            };\r\n            \r\n            await orderAPI.create(dataToSubmit);\r\n            showAlert('success', 'T·∫°o ƒë∆°n h√†ng th√†nh c√¥ng!');\r\n            handleCloseModal();\r\n            loadOrders();\r\n        } catch (error) {\r\n            showAlert('error', error.response?.data?.error || 'C√≥ l·ªói x·∫£y ra. Vui l√≤ng ki·ªÉm tra t·ªìn kho.');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (order) => {\r\n        if (window.confirm(`B·∫°n c√≥ ch·∫Øc mu·ªën x√≥a ƒë∆°n h√†ng ${order.ma_dh}? Thao t√°c n√†y kh√¥ng th·ªÉ ho√†n t√°c.`)) {\r\n            try {\r\n                await orderAPI.delete(order.ma_dh);\r\n                showAlert('success', 'X√≥a ƒë∆°n h√†ng th√†nh c√¥ng');\r\n                loadOrders();\r\n            } catch (error) {\r\n                showAlert('error', 'L·ªói khi x√≥a ƒë∆°n h√†ng.');\r\n            }\r\n        }\r\n    };\r\n\r\n    // -------------------- Utility Functions --------------------\r\n\r\n    const getCustomerName = (ma_kh) => {\r\n        const customer = customers.find(c => c.ma_kh === ma_kh);\r\n        return customer ? customer.ho_ten : `(M√£ KH: ${ma_kh})`;\r\n    };\r\n    \r\n    // H√†m hi·ªÉn th·ªã Badge tr·∫°ng th√°i\r\n    const getStatusBadge = (trang_thai) => {\r\n        trang_thai = trang_thai || 'Ch·ªù x·ª≠ l√Ω';\r\n        switch (trang_thai) {\r\n            case 'Ho√†n th√†nh':\r\n            case 'ƒê√£ giao':\r\n                return <span className=\"badge badge-success\">{trang_thai}</span>;\r\n            case 'ƒêang x·ª≠ l√Ω':\r\n            case 'Ch·ªù x·ª≠ l√Ω':\r\n                return <span className=\"badge badge-warning\">{trang_thai}</span>;\r\n            case 'ƒê√£ h·ªßy':\r\n            case 'Th·∫•t b·∫°i':\r\n                return <span className=\"badge badge-danger\">{trang_thai}</span>;\r\n            default:\r\n                return <span className=\"badge badge-info\">{trang_thai}</span>;\r\n        }\r\n    };\r\n    \r\n    // T√≠nh to√°n t·ªïng ti·ªÅn t·∫°m th·ªùi cho form t·∫°o ƒë∆°n h√†ng (s·ª≠ d·ª•ng useMemo ƒë·ªÉ t·ªëi ∆∞u)\r\n    const totalAmount = useMemo(() => {\r\n        return formData.items.reduce((total, item) => {\r\n            const product = products.find(p => p.ma_sp === item.ma_sp);\r\n            const price = product ? product.gia_ban : 0;\r\n            return total + (price * item.so_luong);\r\n        }, 0);\r\n    }, [formData.items, products]);\r\n\r\n    // -------------------- Render --------------------\r\n    if (loading) {\r\n        return <LoadingSpinner />;\r\n    }\r\n\r\n    return (\r\n        <div className=\"orders-page\">\r\n            <div className=\"card\">\r\n                <div className=\"card-header\">\r\n                    <h2>üõí Qu·∫£n L√Ω ƒê∆°n H√†ng</h2>\r\n                    <button className=\"btn btn-primary\" onClick={handleOpenModal}>\r\n                        + T·∫°o ƒê∆°n H√†ng M·ªõi\r\n                    </button>\r\n                </div>\r\n\r\n                {alert.message && (\r\n                    <div className={`alert alert-${alert.type}`}>\r\n                        {alert.message}\r\n                    </div>\r\n                )}\r\n\r\n                <div className=\"search-bar order-search-bar\">\r\n                    <input\r\n                        type=\"text\"\r\n                        placeholder=\"T√¨m ki·∫øm theo m√£, kh√°ch h√†ng...\"\r\n                        value={search}\r\n                        onChange={(e) => setSearch(e.target.value)}\r\n                        className=\"form-control search-input\"\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"table-container\">\r\n                    <table>\r\n                        <thead>\r\n                            <tr>\r\n                                <th>M√£ ƒêH</th>\r\n                                <th>Kh√°ch H√†ng</th>\r\n                                <th>Th·ªùi Gian</th>\r\n                                <th>S·ªë L∆∞·ª£ng SP</th>\r\n                                <th>T·ªïng Ti·ªÅn</th>\r\n                                <th>Tr·∫°ng Th√°i</th>\r\n                                <th>Thao T√°c</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            {orders.length === 0 ? (\r\n                                <tr>\r\n                                    <td colSpan=\"7\" style={{ textAlign: 'center', padding: '2rem' }}>\r\n                                        Kh√¥ng c√≥ ƒë∆°n h√†ng n√†o\r\n                                    </td>\r\n                                </tr>\r\n                            ) : (\r\n                                orders.map((order) => (\r\n                                    <tr key={order.ma_dh}>\r\n                                        <td>{order.ma_dh}</td>\r\n                                        <td>{order.ten_khach_hang || getCustomerName(order.ma_kh)}</td>\r\n                                        <td>{new Date(order.ngay_mua).toLocaleString('vi-VN')}</td>\r\n                                        <td>{order.tong_so_luong || order.item_count || 0}</td>\r\n                                        <td>{parseInt(order.tong_tien || 0).toLocaleString('vi-VN')} ƒë</td>\r\n                                        <td>\r\n                                            {getStatusBadge(order.trang_thai)}\r\n                                        </td>\r\n                                        <td>\r\n                                            <div className=\"action-buttons\">\r\n                                                <button\r\n                                                    className=\"btn btn-secondary btn-sm\"\r\n                                                    onClick={() => handleViewDetails(order)}\r\n                                                >\r\n                                                    Chi Ti·∫øt\r\n                                                </button>\r\n                                                <button\r\n                                                    className=\"btn btn-danger btn-sm\"\r\n                                                    onClick={() => handleDelete(order)}\r\n                                                    style={{ marginLeft: '0.5rem' }}\r\n                                                >\r\n                                                    X√≥a\r\n                                                </button>\r\n                                            </div>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))\r\n                            )}\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n\r\n            {/* -------------------- Modal -------------------- */}\r\n            {showModal && (\r\n                <div className=\"modal-overlay\" onClick={handleCloseModal}>\r\n                    {/* Th√™m class modal-large ƒë·ªÉ tƒÉng k√≠ch th∆∞·ªõc modal cho chi ti·∫øt/t·∫°o ƒë∆°n h√†ng */}\r\n                    <div className={`modal ${orderDetails ? 'modal-details' : 'modal-form'}`} onClick={(e) => e.stopPropagation()}> \r\n                        <div className=\"modal-header\">\r\n                            <h3>{orderDetails ? `Chi Ti·∫øt ƒê∆°n H√†ng #${orderDetails.ma_dh}` : 'T·∫°o ƒê∆°n H√†ng M·ªõi'}</h3>\r\n                            <button className=\"close-btn\" onClick={handleCloseModal}>√ó</button>\r\n                        </div>\r\n\r\n                        {orderDetails ? (\r\n                            // Render Chi Ti·∫øt ƒê∆°n H√†ng\r\n                            <div className=\"order-details\">\r\n                                <p className=\"detail-row\"><strong>Kh√°ch H√†ng:</strong> {getCustomerName(orderDetails.ma_kh)}</p>\r\n                                <p className=\"detail-row\"><strong>Th·ªùi Gian:</strong> {new Date(orderDetails.ngay_mua).toLocaleString('vi-VN')}</p>\r\n                                <p className=\"detail-row\"><strong>Tr·∫°ng Th√°i:</strong> {getStatusBadge(orderDetails.trang_thai)}</p>\r\n                                \r\n                                <div className=\"detail-section table-container\">\r\n                                    <h4 style={{ marginBottom: '1rem', marginTop: '1rem', color: '#457b9d' }}>Danh S√°ch S·∫£n Ph·∫©m</h4>\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>S·∫£n Ph·∫©m</th>\r\n                                                <th style={{ width: '100px' }}>S·ªë L∆∞·ª£ng</th>\r\n                                                <th>ƒê∆°n Gi√°</th>\r\n                                                <th>Th√†nh Ti·ªÅn</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            {orderDetails.items?.map((item, index) => (\r\n                                                <tr key={index}>\r\n                                                    <td>{item.ten_sp || item.ma_sp}</td>\r\n                                                    <td style={{ textAlign: 'center' }}>{item.so_luong}</td>\r\n                                                    <td>{parseInt(item.don_gia).toLocaleString('vi-VN')} ƒë</td>\r\n                                                    <td>{parseInt(item.thanh_tien).toLocaleString('vi-VN')} ƒë</td>\r\n                                                </tr>\r\n                                            ))}\r\n                                        </tbody>\r\n                                        <tfoot>\r\n                                            <tr>\r\n                                                <td colSpan=\"3\" style={{ textAlign: 'right', fontWeight: 'bold' }}>T·ªïng Ti·ªÅn:</td>\r\n                                                <td style={{ fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                                                    {parseInt(orderDetails.tong_tien).toLocaleString('vi-VN')} ƒë\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tfoot>\r\n                                    </table>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>\r\n                                        ƒê√≥ng\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        ) : (\r\n                            // Render Form T·∫°o M·ªõi\r\n                            <form onSubmit={handleSubmit}>\r\n                                <div className=\"form-group\">\r\n                                    <label>Kh√°ch H√†ng *</label>\r\n                                    <select\r\n                                        required\r\n                                        value={formData.ma_kh}\r\n                                        onChange={(e) => setFormData({ ...formData, ma_kh: e.target.value })}\r\n                                    >\r\n                                        <option value=\"\">-- Ch·ªçn kh√°ch h√†ng --</option>\r\n                                        {customers.map((customer) => (\r\n                                            <option key={customer.ma_kh} value={customer.ma_kh}>\r\n                                                {customer.ho_ten}\r\n                                            </option>\r\n                                        ))}\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <div className=\"form-group product-list-group\">\r\n                                    <label>S·∫£n Ph·∫©m *</label>\r\n                                    {formData.items.map((item, index) => {\r\n                                        const selectedProduct = products.find(p => p.ma_sp === item.ma_sp);\r\n                                        const currentPrice = selectedProduct ? parseInt(selectedProduct.gia_ban) : 0;\r\n                                        const availableStock = selectedProduct?.so_luong_ton || 0;\r\n                                        \r\n                                        return (\r\n                                            <div key={index} className=\"product-item-row\">\r\n                                                <select\r\n                                                    required\r\n                                                    value={item.ma_sp}\r\n                                                    onChange={(e) => updateProductItem(index, 'ma_sp', e.target.value)}\r\n                                                    style={{ flex: 3 }}\r\n                                                >\r\n                                                    <option value=\"\">Ch·ªçn s·∫£n ph·∫©m</option>\r\n                                                    {products.map((product) => (\r\n                                                        <option key={product.ma_sp} value={product.ma_sp} disabled={product.so_luong_ton <= 0}>\r\n                                                            {product.ten_sp} (T·ªìn: {product.so_luong_ton} - Gi√°: {parseInt(product.gia_ban).toLocaleString('vi-VN')} ƒë)\r\n                                                        </option>\r\n                                                    ))}\r\n                                                </select>\r\n                                                <input\r\n                                                    type=\"number\"\r\n                                                    required\r\n                                                    min=\"1\"\r\n                                                    max={availableStock}\r\n                                                    value={item.so_luong}\r\n                                                    onChange={(e) => updateProductItem(index, 'so_luong', e.target.value)}\r\n                                                    placeholder=\"SL\"\r\n                                                    style={{ flex: 1.5 }}\r\n                                                    disabled={!item.ma_sp}\r\n                                                />\r\n                                                <span className=\"item-sub-info\" style={{ flex: 2 }}>\r\n                                                    {item.ma_sp ? `${(currentPrice * item.so_luong).toLocaleString('vi-VN')} ƒë` : 'Ch·ªçn SP'}\r\n                                                </span>\r\n                                                {formData.items.length > 1 && (\r\n                                                    <button\r\n                                                        type=\"button\"\r\n                                                        className=\"btn btn-danger btn-sm\"\r\n                                                        onClick={() => removeProductItem(index)}\r\n                                                        style={{ flex: 1, minWidth: 'unset' }}\r\n                                                    >\r\n                                                        X√≥a\r\n                                                    </button>\r\n                                                )}\r\n                                            </div>\r\n                                        );\r\n                                    })}\r\n                                    <div className=\"add-product-row\">\r\n                                        <button\r\n                                            type=\"button\"\r\n                                            className=\"btn btn-secondary\"\r\n                                            onClick={addProductItem}\r\n                                        >\r\n                                            + Th√™m S·∫£n Ph·∫©m\r\n                                        </button>\r\n                                        <div className=\"total-amount-display\">\r\n                                            <strong>T·ªïng ti·ªÅn t·∫°m t√≠nh:</strong> \r\n                                            <span style={{ color: '#e74c3c', marginLeft: '10px' }}>{totalAmount.toLocaleString('vi-VN')} ƒë</span>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div className=\"modal-footer\">\r\n                                    <button type=\"button\" className=\"btn btn-secondary\" onClick={handleCloseModal}>\r\n                                        H·ªßy\r\n                                    </button>\r\n                                    <button type=\"submit\" className=\"btn btn-primary-modal\">\r\n                                        T·∫°o ƒê∆°n H√†ng\r\n                                    </button>\r\n                                </div>\r\n                            </form>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Orders;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}